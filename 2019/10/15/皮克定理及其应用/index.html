<!doctype html>
<html lang="zh-cn">
  <head>
    <title>皮克定理及其应用 // 孤星的天空</title>
    <meta charset="utf-8" />
    <meta name="generator" content="Hugo 0.68.3" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="author" content="John Doe" />
    <meta name="description" content="" />
    <link rel="stylesheet" href="https://SolitaryStarSky.github.io/css/main.min.f90f5edd436ec7b74ad05479a05705770306911f721193e7845948fb07fe1335.css" />

    
    <meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="皮克定理及其应用"/>
<meta name="twitter:description" content="H - 三角形 4.1 Description
A lattice point is an ordered pair (x,y) where x and y are both integers. Given the coordinates of the vertices of a triangle(which happen to be lattice points), you are to count the number of lattice points which lie completely inside of the triangle(points on the edges or vertices of the triangle do not count).
4.2 Input The input test file will contain multiple test cases."/>

    <meta property="og:title" content="皮克定理及其应用" />
<meta property="og:description" content="H - 三角形 4.1 Description
A lattice point is an ordered pair (x,y) where x and y are both integers. Given the coordinates of the vertices of a triangle(which happen to be lattice points), you are to count the number of lattice points which lie completely inside of the triangle(points on the edges or vertices of the triangle do not count).
4.2 Input The input test file will contain multiple test cases." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://SolitaryStarSky.github.io/2019/10/15/%E7%9A%AE%E5%85%8B%E5%AE%9A%E7%90%86%E5%8F%8A%E5%85%B6%E5%BA%94%E7%94%A8/" />
<meta property="article:published_time" content="2019-10-15T08:07:45+00:00" />
<meta property="article:modified_time" content="2019-10-15T08:07:45+00:00" />


  </head>
  <body>
    <header class="app-header">
      <a href="https://SolitaryStarSky.github.io"><img class="app-header-avatar" src="/avatar.jpg" alt="John Doe" /></a>
      <h1>孤星的天空</h1>
      <p>你若决定灿烂，山无遮，海无拦</p>
      <div class="app-header-social">
        
      </div>
    </header>
    <main class="app-container">
      
  <article class="post">
    <header class="post-header">
      <h1 class ="post-title">皮克定理及其应用</h1>
      <div class="post-meta">
        <div>
          <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="icon icon-calendar">
  <title>calendar</title>
  <rect x="3" y="4" width="18" height="18" rx="2" ry="2"></rect><line x1="16" y1="2" x2="16" y2="6"></line><line x1="8" y1="2" x2="8" y2="6"></line><line x1="3" y1="10" x2="21" y2="10"></line>
</svg>
          Oct 15, 2019
        </div>
        <div>
          <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="icon icon-clock">
  <title>clock</title>
  <circle cx="12" cy="12" r="10"></circle><polyline points="12 6 12 12 16 14"></polyline>
</svg>
          2 min read
        </div></div>
    </header>
    <div class="post-content">
      <h2 id="h---三角形">H - 三角形</h2>
<p>4.1 Description</p>
<p>A lattice point is an ordered pair (x,y) where x and y are both integers. Given the coordinates of the vertices of a triangle(which happen to be lattice points), you are to count the number of lattice points which lie completely inside of the triangle(points on the edges or vertices of the triangle do not count).</p>
<h3 id="42-input">4.2 Input</h3>
<p>The input test file will contain multiple test cases. Each input test case consists of six integers x1, y1, x2, y2, x3, and y3, where(x1,y1),(x2,y2), and(x3,y3) are the coordinates of vertices of the triangle. All triangles in the input will be non-degenerate(will have positive area), and -15000 ≤ x1,y1,x2,y2,x3,y3 &lt; 15000. The end-of-file is marked by a test case with x1 = y1 = x2 = y2 = x3 = y3 =0 and should not be processed. For example:</p>
<p>0 0 1 0 0 1
0 0 5 0 0 5
0 0 0 0 0 0</p>
<h3 id="43-output">4.3 Output</h3>
<p>For each input case, the program should print the number of internal lattice points on a single line. For example:</p>
<p>0
6</p>
<p>思路：该题求的是三角形内部（不包含边界的）的整点，需要运用到的皮克定理。什么是皮克定理呢？
　　  2<em>S=2</em>A+B-2
(S为三角形面积，A为三角形内部的整点数，B为三角形边上整点数）</p>
<p>那么问题来了，三角形面积如何求？海伦公式？并不是，这里需要运用2S=x1y2+x2y3+x3y1-x1y3-x2y1-x3y2</p>
<p>定点数如何求？两点之间坐标相减并求它们的最大公因数：b=∑gcd(|xi-x[(i+1)%3]|,|yi-y[(i+1)%3]|)
a=(2S-b+2)/2</p>
<p>接下来是代码部分：</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-cpp" data-lang="cpp"><span style="color:#75715e">#include</span> <span style="color:#75715e">&lt;iostream&gt;  </span><span style="color:#75715e">
</span><span style="color:#75715e">#include</span><span style="color:#75715e">&lt;cmath&gt;  </span><span style="color:#75715e">
</span><span style="color:#75715e">#include</span><span style="color:#75715e">&lt;cstdlib&gt;  </span><span style="color:#75715e">
</span><span style="color:#75715e">#include</span><span style="color:#75715e">&lt;cstring&gt;   </span><span style="color:#75715e">
</span><span style="color:#75715e">#include</span><span style="color:#75715e">&lt;string&gt;  </span><span style="color:#75715e">
</span><span style="color:#75715e">#include</span> <span style="color:#75715e">&lt;algorithm&gt;  </span><span style="color:#75715e">
</span><span style="color:#75715e"></span><span style="color:#66d9ef">using</span> <span style="color:#66d9ef">namespace</span> std;  
<span style="color:#66d9ef">typedef</span> <span style="color:#66d9ef">long</span> <span style="color:#66d9ef">long</span> ll;  

<span style="color:#66d9ef">struct</span> <span style="color:#a6e22e">point</span>  
{  
    <span style="color:#66d9ef">int</span> x,y;  
}p[<span style="color:#ae81ff">5</span>];  
<span style="color:#66d9ef">int</span> <span style="color:#a6e22e">area</span>()  
{  
    <span style="color:#66d9ef">int</span> ans<span style="color:#f92672">=</span><span style="color:#ae81ff">0</span>;  
    <span style="color:#66d9ef">for</span>(<span style="color:#66d9ef">int</span> i<span style="color:#f92672">=</span><span style="color:#ae81ff">0</span> ; i<span style="color:#f92672">&lt;</span><span style="color:#ae81ff">3</span> ; i<span style="color:#f92672">++</span>)  
    {  
       ans<span style="color:#f92672">+=</span>p[i].x<span style="color:#f92672">*</span>(p[(i<span style="color:#f92672">+</span><span style="color:#ae81ff">1</span>)<span style="color:#f92672">%</span><span style="color:#ae81ff">3</span>].y<span style="color:#f92672">-</span>p[(i<span style="color:#f92672">+</span><span style="color:#ae81ff">2</span>)<span style="color:#f92672">%</span><span style="color:#ae81ff">3</span>].y);  
    }  
     <span style="color:#66d9ef">return</span> ans;  
}  
<span style="color:#66d9ef">int</span> <span style="color:#a6e22e">gcd</span>(<span style="color:#66d9ef">int</span> a,<span style="color:#66d9ef">int</span> b)  
{  
    <span style="color:#66d9ef">return</span> b<span style="color:#f92672">==</span><span style="color:#ae81ff">0</span><span style="color:#f92672">?</span>a:gcd(b,a<span style="color:#f92672">%</span>b);  
}  
<span style="color:#66d9ef">int</span> <span style="color:#a6e22e">atline</span> (point p1,point p2)  
{  
    <span style="color:#66d9ef">int</span> b<span style="color:#f92672">=</span>fabs(p1.x<span style="color:#f92672">-</span>p2.x) , a<span style="color:#f92672">=</span>fabs(p1.y<span style="color:#f92672">-</span>p2.y);  
    <span style="color:#66d9ef">return</span> gcd(a,b);  
}  
<span style="color:#66d9ef">int</span> <span style="color:#a6e22e">main</span> ()  
{  
    <span style="color:#66d9ef">bool</span> flag;  
    <span style="color:#66d9ef">int</span> i,n,s,lpoint;  
     <span style="color:#66d9ef">while</span> (<span style="color:#ae81ff">1</span>)  
    {     
        flag<span style="color:#f92672">=</span><span style="color:#ae81ff">1</span>;  
        <span style="color:#66d9ef">for</span> ( i<span style="color:#f92672">=</span><span style="color:#ae81ff">0</span> ; i<span style="color:#f92672">&lt;</span><span style="color:#ae81ff">3</span> ; i<span style="color:#f92672">++</span>)  
            scanf(<span style="color:#e6db74">&#34;%d%d&#34;</span>,<span style="color:#f92672">&amp;</span>p[i].x,<span style="color:#f92672">&amp;</span>p[i].y);  
        <span style="color:#66d9ef">for</span> ( i<span style="color:#f92672">=</span><span style="color:#ae81ff">0</span> ; i<span style="color:#f92672">&lt;</span><span style="color:#ae81ff">3</span> ; i<span style="color:#f92672">++</span>)  
        <span style="color:#66d9ef">if</span> ( p[i].x <span style="color:#f92672">||</span> p[i].y )flag<span style="color:#f92672">=</span><span style="color:#ae81ff">0</span>;  
        <span style="color:#66d9ef">if</span>(flag) <span style="color:#66d9ef">break</span>;  
        s<span style="color:#f92672">=</span>fabs(area())<span style="color:#f92672">+</span><span style="color:#ae81ff">2</span>;  
        <span style="color:#66d9ef">for</span> (i<span style="color:#f92672">=</span><span style="color:#ae81ff">0</span> ; i<span style="color:#f92672">&lt;</span><span style="color:#ae81ff">3</span> ; i<span style="color:#f92672">++</span>)  
        {  
            lpoint<span style="color:#f92672">+=</span>atline(p[i],p[(i<span style="color:#f92672">+</span><span style="color:#ae81ff">1</span>)<span style="color:#f92672">%</span><span style="color:#ae81ff">3</span>]);  
        }  
        <span style="color:#66d9ef">int</span> ans<span style="color:#f92672">=</span>(s<span style="color:#f92672">-</span>lpoint)<span style="color:#f92672">/</span><span style="color:#ae81ff">2</span>;  
        printf(<span style="color:#e6db74">&#34;%d</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">&#34;</span>,ans);  
    }  
    <span style="color:#66d9ef">return</span> <span style="color:#ae81ff">0</span>;  
}
</code></pre></div>
    </div>
    <div class="post-footer">
      
    </div>
  </article>

    </main>
  </body>
</html>
